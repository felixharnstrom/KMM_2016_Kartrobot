\documentclass[a4paper,11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[swedish]{babel}
\usepackage[top=1in,bottom=1in,left=1in,right=1in,headsep=.5in]{geometry}
\usepackage{hyperref}
\usepackage{graphicx}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\usepackage[yyyymmdd,hhmmss]{datetime}
\renewcommand{\dateseparator}{-}

\usepackage{mathptmx}    %Times Roman font
\usepackage{helvet}    %Helvetica, served as a model for arial
\usepackage{anyfontsize}

\usepackage[tocgraduated]{tocstyle}
\usetocstyle{allwithdot}

\usepackage[titletoc,title]{appendix}

\usepackage{fancyhdr}
\fancypagestyle{intro}{
    \fancyhf{}
    \fancyhead[C]{\LIPSprojekttitel}
    \fancyhead[R]{\today} 
    \fancyfoot[L]{\LIPSkursnamn \\ \LIPSdokumenttyp}
    \fancyfoot[C]{\phantom{text}\roman{page}}
    \fancyfoot[R]{\LIPSprojektgrupp \\ \LIPSgruppepost} 
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}}
\fancypagestyle{content}{
    \fancyhf{}
    \fancyhead[C]{\LIPSprojekttitel}
    \fancyhead[R]{\today} 
    \fancyfoot[L]{\LIPSkursnamn \\ \LIPSdokumenttyp}
    \fancyfoot[C]{\phantom{text}\thepage}
    \fancyfoot[R]{\LIPSprojektgrupp \\ \LIPSgruppepost} 
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}}

\usepackage{titlesec}
\titleformat{\section}
    {\normalfont\sffamily\Large\bfseries}
    {\thesection}{1em}{}
\titleformat{\subsection}
    {\normalfont\sffamily\large\bfseries}
    {\thesubsection}{1em}{}
\titleformat{\subsubsection}
    {\normalfont\sffamily\bfseries}
    {\thesubsubsection}{1em}{}

\newcommand{\LIPSartaltermin}{2016/HT}
\newcommand{\LIPSkursnamn}{TSEA29}
\newcommand{\LIPSprojekttitel}{Kartrobot}
\newcommand{\LIPSprojektgrupp}{Grupp 1}
\newcommand{\LIPSgruppepost}{\href{mailto:kmm_2016_grupp1@liuonline.onmicrosoft.com}{{\small kmm\_2016\_grupp1@liuonline.onmicrosoft.com}}}
\newcommand{\LIPSgrupphemsida}{}
\newcommand{\LIPSkund}{ISY, Linköpings universitet, 581\,83 Linköping}
\newcommand{\LIPSkundkontakt}{Mattias Krysander, 013-282198, matkr@isy.liu.se}
\newcommand{\LIPSkursansvarig}{Tomas Svensson, 013-281368, Tomas.Svensson@liu.se}
\newcommand{\LIPShandledare}{}
\newcommand{\LIPSdokumenttyp}{Systemskiss}
\newcommand{\LIPSredaktor}{Hannes Haglund}
\newcommand{\LIPSversion}{0.1}
\newcommand{\LIPSgranskare}{Felix Härnström}
\newcommand{\LIPSgranskatdatum}{N/A}
\newcommand{\LIPSgodkannare}{}
\newcommand{\LIPSgodkantdatum}{}

\input{LIPS.tex}
\begin{document}
\pagestyle{intro}
\LIPStitelsida
\clearpage
\begin{LIPSprojektidentitet}
    \LIPSgruppmedlem{Hannes Haglund}{}{hanha265@student.liu.se}
    \LIPSgruppmedlem{Felix Härnström}{Projektledare (PL)}{felha423@student.liu.se}
    \LIPSgruppmedlem{Jani Jokinen}{}{janjo273@student.liu.se}
    \LIPSgruppmedlem{Silas Lenz}{}{sille914@student.liu.se}
    \LIPSgruppmedlem{Daniel Månsson}{}{danma344@student.liu.se}
    \LIPSgruppmedlem{Emil Norberg}{Dokumentansvarig (DOK)}{emino969@student.liu.se}
\end{LIPSprojektidentitet}
\clearpage
\renewcommand{\familydefault}{\sfdefault}	%Sans-serif
\normalfont
\tableofcontents
\renewcommand{\familydefault}{\rmdefault}	%Back to serifs
\normalfont
\clearpage
\begin{LIPSdokumenthistorik}
    \LIPSversionsinfo{0.1}{1496-05-12}{Första utkastet}{Alla}{N/A} %TODO granskare
\end{LIPSdokumenthistorik}
\clearpage
\setcounter{page}{1}
\pagestyle{content}

\section{Inledning}

I detta dokument redogörs idéer om hur robotens delsystem kan konstrueras. Det är ej bindande, utan tjänar snarare som en grov kompass inför projektets implementation och planering. Skissen används för att avgöra vilka moduler som ingår och hur arbetet kan delas upp.

\begin{figure}[h!]
    \makebox[\textwidth][c]{\includegraphics[width=1\textwidth]{overview.png}}
    \caption{Systemet i dess omgivning.}
    \label{fig:overview}
\end{figure}

\section{Översikt av systemet}
% TODO: Blockschema, identifiera delsystem och gränssnitt, modularitet och uppgraderbarhet


\section{Delsystem 1 - Sensorenhet}

Sensorenheten har i uppgift att läsa in sensordata och omvandla den till ett läsligt format.


\subsection{Hårdvara}

Sensorenheten tar in data från en distanssensor monterade på robotens topp.
\subsubsection{Processor} %TODO: Minst 4 interrupts, fråga handledare. Kan vi ha flera uarts?
% Troligtvis Atmega1284p
\subsubsection{Ultraljudssensor}

% TODO: Alt 2 IRSensor

\subsubsection{LIDAR lite v2}
Använder i2c.

\subsubsection{IMU}

\paragraph{Alternativ 1}
Endast en gyro med analog output.

\paragraph{Alternativ 2}
Gyro+Accelerometer via i2c. mpu6050 % TODO: MotionMagi, handledare

\subsection{Mjukvara}

Koden ska vara skriven i C/C++, och ska följa <INSERT STANDARD HERE>. Funktioner ska vara kommenterade.

Programmet ska omvandla sensordata till ett lämpligt format (se \ref{ssec:sensorInterface}), och skicka det vidare via bussen.

\subsection{Gränssnitt} \label{ssec:sensorInterface}

\paragraph{Alternativ 1}
I2C via samma buss som sensorer

\paragraph{Alternativ 2}
UART


\subsubsection{IN}

\subsubsection{UT}



\section{Delsystem 2 - Styrenhet}

\subsection{Hårdvara}

\subsubsection{Processor}
%Samma som sensorenhet

\subsubsection{PWM-utgångar}

\subsubsection{Servo/steppermotor}
\paragraph{Alternativ 1}
AX-12

\subsection{Mjukvara}

Koden ska vara skriven i C/C++, och ska följa <INSERT STANDARD HERE>. Funktioner ska vara kommenterade.

\subsection{Gränssnitt} \label{ssec:controllInterface}

\subsubsection{Alternativ 1}

\subsubsection{Alternativ 2}


\section{Delsystem 3 - Kommunikations- och kontrollenhet}

\subsection{Hårdvara}

\subsubsection{Datormodell}
Raspberry Pi 3. Vi utnyttjar raspberryns inbyggda blåtand.

\subsection{Mjukvara}

Koden ska vara skriven i Python 3, och ska följa kodstandarden \href{https://www.python.org/dev/peps/pep-0008/}{PEP 8}.

\subsubsection{Kommunikation}

\subsubsection{Ruttstyrning}

\subsection{Gränssnitt} \label{ssec:brainInterface}

\subsubsection{Alternativ 1}
I2C via samma buss som sensorer

\subsubsection{Alternativ 2}
USB-UART

\section{Delsystem 4 - Mjukvara på PC}

\subsection{Hårdvara}
Har en blåtandsmodul.

\subsection{Mjukvara}

Koden ska vara skriven i Python 3, och ska följa kodstandarden \href{https://www.python.org/dev/peps/pep-0008/}{PEP 8}.

\subsubsection{Input}

\subsubsection{Output}

\subsection{Gränssnitt} \label{ssec:PCInterface}


\begin{appendices}

\end{appendices}


\end{document}
